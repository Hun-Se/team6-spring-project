<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper-addrbook">

	<insert id="createAddrbook" parameterType="lx.team6.vo.UserVo">
		insert into addrbook(ab_name, ab_email, ab_tel, ab_birth, ab_comdept, ab_memo)
		values(#{abName}, #{abEmail}, #{abTel}, #{abBirth}, #{abComdept}, #{abMemo})
	</insert>
	
	<select id="showAddrbookList" resultType="lx.team6.vo.UserVo"> 
		select ab_id abId
		 	 , ab_name abName
		 	 , ab_email abEmail
		 	 , ab_tel 
		 	 , ab_birth abBirth
		 	 , ab_comdept abComdept
		 	 , ab_memo abMemo
		from addrbook
	</select>
	
	
	<!-- 유저삭제 -->
	<delete id="deleteUser" parameterType="int">
		delete from user where ab_id = #{user_bo}
	</delete>
	
	<!-- 아이디 찾기 -->
	<select id="findById" parameterType="String" resultType="lx.team6.vo.UserVo"> 
		select id userId
			 , password userPw
			 , user_no userNumber
			 , name userName
			 , email userEmail
			 , tel_num userTel
			 , birth_date userBirth
			 , img userImage
			 , gender userGender 
		from User
		where id = #{userId}
	</select>
	
	<!-- 회원가입 
	<insert id="createUser" parameterType="lx.team6.vo.UserVo">
		insert into User(id, password, name, email, tel_num, birth_date, img, gender)
		values(#{userId}, #{userPw}, #{userName}, #{userEmail}, #{userTel}, #{userBirth}, #{userImage}, #{userGender})
	</insert>-->
	
	<!-- 회원가입 1(user)-->
	<insert id="createUser"  useGeneratedKeys="true" keyProperty="userNumber" parameterType="lx.team6.vo.UserVo">
		insert into User(id, password, name, email, tel_num, birth_date, img, gender)
		values(#{userId}, #{userPw}, #{userName}, #{userEmail}, #{userTel}, #{userBirth}, #{userImage}, #{userGender})
	</insert>
	
	<!-- 회원가입 2(keyword) -->
	<insert id="createKeyword" parameterType="lx.team6.vo.KeywordVo">
		 insert into keyword (key_no, mbti, key_sort, key_location, key_type, mobility, house, user_user_no)
    	 values(#{keywordNumber}, #{keywordMbti}, #{keywordSort}, #{keywordLocation}, #{keywordType}, #{keywordMobility}, #{keywordHouse}, #{keywordUserNumber})
	</insert>
	
</mapper>